<!DOCTYPE html>
<html>
<head>
	<title>Login</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js">
	</script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	

	
</head>
<body>
	<div class="col-md-4 col-md-offset-4">
		<div>
			<p>Login</p>
		</div>
		<div class="form-group">
			<form id="login-form" action="/login" method="post" >
				<input type="text" name="email"  placeholder="e-mail"  class="form-control"><br/>
				<input type="password" name="password"  placeholder="Password" autocomplete = "on" class="form-control"><br/>
        <input type="checkbox" value="agree" id="agree" display="flex" margin-bottom="auto"
        justify-content="space-between">Remember me<br />
				<button type="submit" value="submit" class="btn btn-success">login</button>
			</form>
		</div>
		<div class="mssg bg-danger">
			<span id="check" ></span>
		</div>
		<div id="LangTable"><a href="/" id="aa"></a>
		</div>
		<div><span>Do you forgot password?</span><a href="/reset">Click here</a>
		<div><span>Create a new Account?</span><a href="/res">Register here</a>

		</div>
		
	</div>
</body>
<script>
	const form = document.getElementById('login-form')
			  form.addEventListener('submit', loginUser)
  
			  async function loginUser(event) {
				  event.preventDefault()
				  const email = document.getElementById('email').value
				  const password = document.getElementById('password').value
  
				  const result = await fetch('/login', {
					  method: 'POST',
					  headers: {
						  'Content-Type': 'application/json'
					  },
					  body: JSON.stringify({
						  email,
				password
					  })
				  }).then((res) => res.json())
  
				  if (result.status === 'ok') {
					  // everythign went fine
					  alert('Success')
				  } else {
					  alert(result.error)
				  }
			  } 
  </script>



</html>